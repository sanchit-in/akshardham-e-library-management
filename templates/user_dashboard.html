<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"> <!-- Font Awesome icons -->
  <style>
   body {
      background-color: rgb(226, 228, 229);
    }

    .navbar {
      background-color:rgb(226, 228, 229);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .navbar-brand {
      color: #333;
      
    }
    

    /* .navbar-nav {
      margin-left: auto;
    } */

    .nav-link {
      color: #333;
      
    }

    .nav-link:hover {
      color: #555;
    }
    .card {
        width: 14rem;
        margin-bottom: 20px;
        margin-top: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

    .card-title {
      
      color: #333;
    }

    .card-text {
      color: #666;
    }
    .card-img-top {
        height: 280px;
      }

    button{
      color: white;
      background: black;    
      border-radius: 4px;
      padding: 3.2px 8px;
    }

    .search-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
       
      }

      .search-bar input[type="search"] {
        flex-grow: 1;
        margin-right: 10px;
      }
      .search-bar button[type="submit"] {
        padding: 5px 5px;
        width: 40px;
        height: 40px;
        background: url("/static/covers/search.png") no-repeat center;
        background-size: contain;
        border: none;
        cursor: pointer;
      }
      /* div.search-bar {
        color: #212529;
        width:700px;
        
      }
       */
      input.form-control.me-2{
        border-radius: 20px;
        width:450px;
      }
      
      .feedback-card {
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 5px;
        margin-top: 40px;
        background-color: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-left:40px;
        height: 350px;
        
      }
      
     
      .feedback-card .card-title {
        font-size: 18px;
        font-weight: bold;
        color: #333;
      }

      .feedback-card .card-subtitle {
        font-size: 14px;
        color: #666;
      }

      .feedback-card .card-text {
        font-size: 16px;
        color: #333;
      }
      .user-img{
        height:30px;
        width:30px;
      }
      
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="#">User Dashboard</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="search-bar">
          <div class="container-fluid search-navbar">
              <div class="row search-navbar">
                  <div class="col-md-10">
                      <form action="" method="GET">
                          <div class="input-group">
                              <select name="parameter" id="parameter" class="form-control"> 
                                  <option value="Title">Title</option> 
                              </select>
                              <input type="text" name="query" class="form-control" placeholder="Search for sections">
                              <span class="input-group-btn">
                                  <button class="primary" type="submit"></button> 
                              </span>
                          </div>
                      </form>
                  </div>
              </div>
          </div>
      </div>

        <ul class="navbar-nav ">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="{{url_for('library')}}">MyBooks</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="{{url_for('user_login')}}">Logout</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <br>
  <h3 style="text-align: center; font-weight:bold; font-size:40px;">Genre</h3>
        <div class="container mt-3">
          {% for section in sections %}
              <h2>{{ section.title }}</h2>
              <div class="row row-cols-3">
                  {% for book in books if book.section_id == section.id %}
                      <div class="col">
                          <div class="card">
                              <div class="card-body">
                                  <h5 class="card-title">{{ book.name }}</h5>
                                  <p class="card-text">{{ book.description }}</p>

                                  

                                 
                              </div>
                          </div>
                      </div>
                  {% endfor %}
              </div>
          {% endfor %}
      </div>
      </div>
      <div class="container mt-3">
        <div class="row row-cols-4">
          {% for s in Section %}
          <div class="col">
            <div class="card">
              {% if s.image %}
              <img
                src="{{ s.image }}"
                class="card-img-top"
                alt="..."
                height="200px"
              />
              {% else %}
              <div class="placeholder"></div>
              {% endif %}
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">{{ s.title }}</h5>
                <p class="card-text">{{ s.description }}</p>
                <div class="d-flex justify-content-between mt-auto">
                
                  <form action="{{url_for('show_user_books' , id=s.id)}}" method ='post'>
                    <button type = 'submit'>Books</button>
                  </form>
                 
                 
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
      </div>
      <div class="mt-5" style="text-align: center;">
        <h2>Feedback</h2>
      
        <div class="d-flex justify-content-center">
            {% for star in range(5) %}
                <i class="fas fa-star text-warning"></i>
            {% endfor %}
        </div>
        <div class="row row-cols-4">
          {% for f in feedback%}
            <div class="col">
              <div class="card feedback-card">
                <div class="card-body">
                  <h5 class="card-title">{{ f.book.name }}</h5>
                  
                  <p class="card-text"><b>"</b>{{ f.feedback }}<b>"</b></p>
                  <h7><b><img src="/static/covers/user.png" class="user-img" alt="">   {{f.user.username}}</b></h7>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    
  </body>
</html>
